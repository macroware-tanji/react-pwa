(this["webpackJsonpreact-pwa"]=this["webpackJsonpreact-pwa"]||[]).push([[0],{19:function(e,t,n){},20:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var c=n(1),o=n.n(c),a=n(14),i=n.n(a),r=(n(19),n(3)),s=n(4),l=n(6),u=n(5),h=(n(20),n(2)),f=n(9),d=n(0),v=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(r.a)(this,n),console.log("Home.constructor"),t.call(this,e)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){console.log("Home.componentDidMount")}},{key:"componentWillUnmount",value:function(){console.log("Home.componentWillUnmount")}},{key:"render",value:function(){return Object(d.jsx)("div",{children:Object(d.jsx)("h1",{children:"Home"})})}}]),n}(c.Component),g=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(r.a)(this,n),console.log("Page1.constructor"),t.call(this,e)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){console.log("Page1.componentDidMount")}},{key:"componentWillUnmount",value:function(){console.log("Page1.componentWillUnmount")}},{key:"render",value:function(){return Object(d.jsx)("div",{children:Object(d.jsx)("h1",{children:"Page1"})})}}]),n}(c.Component),m=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(r.a)(this,n),console.log("Me.constructor"),t.call(this,e)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){console.log("Me.componentDidMount")}},{key:"componentWillUnmount",value:function(){console.log("Me.componentWillUnmount")}},{key:"render",value:function(){return Object(d.jsx)("div",{children:Object(d.jsx)("h1",{children:"Me"})})}}]),n}(c.Component),j=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var c;Object(r.a)(this,n),console.log("Others.constructor");var o=(c=t.call(this,e)).props.params.id;return c.is=o,console.log(o),c}return Object(s.a)(n,[{key:"componentDidMount",value:function(){console.log("Others.componentDidMount")}},{key:"componentWillUnmount",value:function(){console.log("Others.componentWillUnmount")}},{key:"render",value:function(){return Object(d.jsx)("div",{children:Object(d.jsxs)("h1",{children:["Others ",this.is]})})}}]),n}(c.Component);function b(){var e=Object(h.h)();return Object(d.jsx)(j,{params:e})}var R=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(r.a)(this,n),console.log("About.constructor"),t.call(this,e)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){console.log("About.componentDidMount")}},{key:"componentWillUnmount",value:function(){console.log("About.componentWillUnmount")}},{key:"render",value:function(){return Object(d.jsx)("div",{children:Object(d.jsx)("h1",{children:"About"})})}}]),n}(c.Component),O=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(r.a)(this,n),console.log("Contact.constructor"),t.call(this,e)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){console.log("Contact.componentDidMount")}},{key:"componentWillUnmount",value:function(){console.log("Contact.componentWillUnmount")}},{key:"render",value:function(){return Object(d.jsx)("div",{children:Object(d.jsx)("h1",{children:"Contact"})})}}]),n}(c.Component),p=n(7),x=n(10),k=(n(22),n.p+"static/media/FacePositionMask2.87464ae1.svg"),y=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var c;return Object(r.a)(this,n),console.log("Camera.constructor"),(c=t.call(this,e)).state={imageLoaded:!1,x1:0,y1:0,x2:0,y2:0},c.inputFile=o.a.createRef(),c.imgRef=o.a.createRef(),c.canvasRef=o.a.createRef(),c.imgMaskRef=o.a.createRef(),c.ctx=null,c.onChange=c.onChange.bind(Object(x.a)(c)),c.onClickChoosePhoto=c.onClickChoosePhoto.bind(Object(x.a)(c)),c.imgPosX=0,c.imgPosY=0,c.imgZoomRate=1,c}return Object(s.a)(n,[{key:"zoomAndMove1",value:function(){var e=this;this.toucheInfos={},this.canvasRef.current.addEventListener("touchstart",(function(t){t.preventDefault();var n=e.canvasRef.current.getBoundingClientRect(),c=t.changedTouches,o=NaN,a=NaN,i=NaN,r=NaN,s=NaN,l=NaN;c.length>0&&(o=c[0].clientX,a=c[0].clientY,o-=n.left,a-=n.top,s=c[0].identifier),c.length>1&&(i=c[1].clientX,r=c[1].clientY,i-=n.left,r-=n.top,l=c[1].identifier),e.setState({x1:o,y1:a,x2:i,y2:r});var u=e.canvasRef.current.width,h=e.canvasRef.current.height;console.log("Camera.touchstart:(".concat(o,",").concat(a,",").concat(s,"),(").concat(i,",").concat(r,",").concat(l,")")),e.ctx.clearRect(0,0,e.canvasRef.current.width,e.canvasRef.current.height),e.ctx.beginPath(),e.ctx.arc(o*u/320,a*h/320,50,0,2*Math.PI,!1),e.ctx.fillStyle="rgba(255,0,0,255)",e.ctx.fill()})),this.canvasRef.current.addEventListener("touchend",(function(t){t.preventDefault();var n=e.canvasRef.current.getBoundingClientRect(),c=t.changedTouches,o=NaN,a=NaN,i=NaN,r=NaN,s=NaN,l=NaN;c.length>0&&(o=c[0].clientX,a=c[0].clientY,o-=n.left,a-=n.top,s=c[0].identifier),c.length>1&&(i=c[1].clientX,r=c[1].clientY,i-=n.left,r-=n.top,l=c[1].identifier),e.setState({x1:o,y1:a,x2:i,y2:r});var u=e.canvasRef.current.width,h=e.canvasRef.current.height;console.log("Camera.touchend:(".concat(o,",").concat(a,",").concat(s,"),(").concat(i,",").concat(r,",").concat(l,")")),e.ctx.clearRect(0,0,e.canvasRef.current.width,e.canvasRef.current.height),e.ctx.beginPath(),e.ctx.arc(o*u/320,a*h/320,50,0,2*Math.PI,!1),e.ctx.fillStyle="rgba(255,0,0,255)",e.ctx.fill()})),this.canvasRef.current.addEventListener("touchcancel",(function(t){t.preventDefault();var n=e.canvasRef.current.getBoundingClientRect(),c=t.changedTouches,o=NaN,a=NaN,i=NaN,r=NaN,s=NaN,l=NaN;c.length>0&&(o=c[0].clientX,a=c[0].clientY,o-=n.left,a-=n.top,s=c[0].identifier),c.length>1&&(i=c[1].clientX,r=c[1].clientY,i-=n.left,r-=n.top,l=c[1].identifier),e.setState({x1:o,y1:a,x2:i,y2:r}),console.log("Camera.touchcancel:(".concat(o,",").concat(a,",").concat(s,"),(").concat(i,",").concat(r,",").concat(l,")")),e.ctx.clearRect(0,0,e.canvasRef.current.width,e.canvasRef.current.height)})),this.canvasRef.current.addEventListener("touchmove",(function(t){t.preventDefault();var n=e.canvasRef.current.getBoundingClientRect(),c=t.changedTouches,o=NaN,a=NaN,i=NaN,r=NaN,s=NaN,l=NaN;c.length>0&&(o=c[0].clientX,a=c[0].clientY,o-=n.left,a-=n.top,s=c[0].identifier),c.length>1&&(i=c[1].clientX,r=c[1].clientY,i-=n.left,r-=n.top,l=c[1].identifier),e.setState({x1:o,y1:a,x2:i,y2:r});var u=e.canvasRef.current.width,h=e.canvasRef.current.height;console.log("Camera.touchmove:(".concat(o,",").concat(a,",").concat(s,"),(").concat(i,",").concat(r,",").concat(l,")")),e.ctx.clearRect(0,0,e.canvasRef.current.width,e.canvasRef.current.height),e.ctx.beginPath(),e.ctx.arc(o*u/320,a*h/320,50,0,2*Math.PI,!1),e.ctx.fillStyle="rgba(255,0,0,255)",e.ctx.fill(),isNaN(i)||isNaN(r)||(e.ctx.beginPath(),e.ctx.arc(i*u/320,r*h/320,50,0,2*Math.PI,!1),e.ctx.fillStyle="rgba(255,0,0,255)",e.ctx.fill())}))}},{key:"initZoomAndMove",value:function(){var e=this;this.onTouchStart=function(t){t.preventDefault();var n,c=e.canvasRef.current.getBoundingClientRect(),o=t.changedTouches,a=Object(p.a)(o);try{for(a.s();!(n=a.n()).done;){var i=n.value,r=i.clientX,s=i.clientY;r-=c.left,s-=c.top;var l=i.identifier;e.toucheInfos[l]={x:r,y:s}}}catch(u){a.e(u)}finally{a.f()}},this.onTouchEnd=function(t){t.preventDefault();var n,c=t.changedTouches,o=Object(p.a)(c);try{for(o.s();!(n=o.n()).done;){var a=n.value.identifier;delete e.toucheInfos[a]}}catch(i){o.e(i)}finally{o.f()}},this.onTouchCancel=function(t){t.preventDefault();var n,c=t.changedTouches,o=Object(p.a)(c);try{for(o.s();!(n=o.n()).done;){var a=n.value.identifier;delete e.toucheInfos[a]}}catch(i){o.e(i)}finally{o.f()}},this.onTouchMove=function(t){t.preventDefault();var n=e.canvasRef.current.getBoundingClientRect(),c=e.canvasRef.current.width,o=e.canvasRef.current.height,a=n.width,i=n.height,r=t.changedTouches;if(1===Object.keys(e.toucheInfos).length){for(var s=0,l=0,u=0,h=0,f=0,d=Object.keys(e.toucheInfos);f<d.length;f++){var v=d[f];s=e.toucheInfos[v].x,l=e.toucheInfos[v].y}var g,m=Object(p.a)(r);try{for(m.s();!(g=m.n()).done;){var j=g.value,b=j.identifier;e.toucheInfos[b]&&(u=j.clientX,h=j.clientY,u-=n.left,h-=n.top,e.toucheInfos[b]={x:u,y:h})}}catch(_){m.e(_)}finally{m.f()}var R=(u-s)*c/a,O=(h-l)*o/i;console.log("(dx:".concat(R,",dy:").concat(O,")")),e.imgPosX+=R,e.imgPosY+=O,e.ctx.drawImage(e.imgRef.current,0,0,e.imgRef.current.width,e.imgRef.current.height,e.imgPosX,e.imgPosY,e.imgRef.current.width*e.imgZoomRate,e.imgRef.current.height*e.imgZoomRate),e.ctx.drawImage(e.imgMaskRef.current,0,0,e.canvasRef.current.width,e.canvasRef.current.height)}else if(2===Object.keys(e.toucheInfos).length){for(var x=[],k=[],y=0,w=Object.keys(e.toucheInfos);y<w.length;y++){var C=w[y];x.push(e.toucheInfos[C].x),k.push(e.toucheInfos[C].y)}var M,I=Math.sqrt(Math.pow(x[0]-x[1],2)+Math.pow(k[0]-k[1],2)),N=!0,P=[],E=Object(p.a)(r);try{for(E.s();!(M=E.n()).done;){var D=M.value.identifier;e.toucheInfos[D]||(console.log("not exists ".concat(D)),N=!1),P.push(D)}}catch(_){E.e(_)}finally{E.f()}N||(console.dir(Object.keys(e.toucheInfos)),console.dir(P));var L,T=Object(p.a)(r);try{for(T.s();!(L=T.n()).done;){var U=L.value,X=U.clientX,Y=U.clientY;X-=n.left,Y-=n.top;var W=U.identifier;e.toucheInfos[W]={x:X,y:Y}}}catch(_){T.e(_)}finally{T.f()}for(var B=[],S=[],A=0,Z=Object.keys(e.toucheInfos);A<Z.length;A++){var F=Z[A];B.push(e.toucheInfos[F].x),S.push(e.toucheInfos[F].y)}var H=Math.sqrt(Math.pow(B[0]-B[1],2)+Math.pow(S[0]-S[1],2))/I,z=(B[0]+B[1])/2*c/a,G=(S[0]+S[1])/2*o/i;e.imgZoomRate*=H,e.imgPosX=z+(e.imgPosX-z)*H,e.imgPosY=G+(e.imgPosY-G)*H,e.ctx.drawImage(e.imgRef.current,0,0,e.imgRef.current.width,e.imgRef.current.height,e.imgPosX,e.imgPosY,e.imgRef.current.width*e.imgZoomRate,e.imgRef.current.height*e.imgZoomRate),e.ctx.drawImage(e.imgMaskRef.current,0,0,e.canvasRef.current.width,e.canvasRef.current.height),console.log("(rate:".concat(H," imgPosX:").concat(e.imgPosX," imgPosY:").concat(e.imgPosY," )"))}else{var q,J=Object(p.a)(r);try{for(J.s();!(q=J.n()).done;){var $=q.value,K=$.clientX,Q=$.clientY;K-=n.left,Q-=n.top;var V=$.identifier;e.toucheInfos[V]={x:K,y:Q}}}catch(_){J.e(_)}finally{J.f()}}},this.toucheInfos={}}},{key:"addZoomAndMoveHandlers",value:function(){this.toucheInfos={},this.canvasRef.current.addEventListener("touchstart",this.onTouchStart,!1),this.canvasRef.current.addEventListener("touchend",this.onTouchEnd,!1),this.canvasRef.current.addEventListener("touchcancel",this.onTouchCancel,!1),this.canvasRef.current.addEventListener("touchmove",this.onTouchMove,!1)}},{key:"removeZoomAndMoveHandlers",value:function(){this.toucheInfos={},this.canvasRef.current.removeEventListener("touchstart",this.onTouchStart),this.canvasRef.current.removeEventListener("touchend",this.onTouchEnd),this.canvasRef.current.removeEventListener("touchcancel",this.onTouchCancel),this.canvasRef.current.removeEventListener("touchmove",this.onTouchMove)}},{key:"zoomAndMove3",value:function(){var e=this;this.toucheInfos={},this.canvasRef.current.addEventListener("touchstart",(function(e){e.preventDefault()})),this.canvasRef.current.addEventListener("touchend",(function(t){t.preventDefault();var n,c=t.changedTouches,o=Object(p.a)(c);try{for(o.s();!(n=o.n()).done;){var a=n.value.identifier;delete e.toucheInfos[a]}}catch(i){o.e(i)}finally{o.f()}})),this.canvasRef.current.addEventListener("touchcancel",(function(t){t.preventDefault();var n,c=t.changedTouches,o=Object(p.a)(c);try{for(o.s();!(n=o.n()).done;){var a=n.value.identifier;delete e.toucheInfos[a]}}catch(i){o.e(i)}finally{o.f()}})),this.canvasRef.current.addEventListener("touchmove",(function(t){t.preventDefault();var n=e.canvasRef.current.getBoundingClientRect(),c=t.changedTouches;if(1===c.length&&1===Object.keys(e.toucheInfos).length){for(var o=0,a=0,i=0,r=0,s=0,l=Object.keys(e.toucheInfos);s<l.length;s++){var u=l[s];o=e.toucheInfos[u].x,a=e.toucheInfos[u].y}e.toucheInfos={};var h,f=Object(p.a)(c);try{for(f.s();!(h=f.n()).done;){var d=h.value;i=d.clientX,r=d.clientY,i-=n.left,r-=n.top;var v=d.identifier;e.toucheInfos[v]={x:i,y:r}}}catch(G){f.e(G)}finally{f.f()}var g=i-o,m=r-a;console.log("(dx:".concat(g,",dy:").concat(m,")")),e.imgPosX+=g,e.imgPosY+=m,e.ctx.drawImage(e.imgRef.current,0,0,e.imgRef.current.width,e.imgRef.current.height,e.imgPosX,e.imgPosY,e.imgRef.current.width*e.imgZoomRate,e.imgRef.current.height*e.imgZoomRate),e.ctx.drawImage(e.imgMaskRef.current,0,0,e.canvasRef.current.width,e.canvasRef.current.height)}else if(2===c.length&&2===Object.keys(e.toucheInfos).length){for(var j=[],b=[],R=0,O=Object.keys(e.toucheInfos);R<O.length;R++){var x=O[R];j.push(e.toucheInfos[x].x),b.push(e.toucheInfos[x].y)}var k=Math.sqrt(Math.pow(j[0]-j[1],2)+Math.pow(b[0]-b[1],2));e.toucheInfos={};var y,w=Object(p.a)(c);try{for(w.s();!(y=w.n()).done;){var C=y.value,M=C.clientX,I=C.clientY;M-=n.left,I-=n.top;var N=C.identifier;e.toucheInfos[N]={x:M,y:I}}}catch(G){w.e(G)}finally{w.f()}for(var P=[],E=[],D=0,L=Object.keys(e.toucheInfos);D<L.length;D++){var T=L[D];P.push(e.toucheInfos[T].x),E.push(e.toucheInfos[T].y)}var U=Math.sqrt(Math.pow(P[0]-P[1],2)+Math.pow(E[0]-E[1],2))/k,X=e.imgRef.current.width*e.imgZoomRate,Y=e.imgRef.current.width*e.imgZoomRate;e.imgZoomRate*=U;var W=X/(e.imgRef.current.width*e.imgZoomRate)/2,B=Y/(e.imgRef.current.width*e.imgZoomRate)/2;e.imgPosX+=W,e.imgPosY+=B,e.ctx.drawImage(e.imgRef.current,0,0,e.imgRef.current.width,e.imgRef.current.height,e.imgPosX,e.imgPosY,e.imgRef.current.width*e.imgZoomRate,e.imgRef.current.height*e.imgZoomRate),e.ctx.drawImage(e.imgMaskRef.current,0,0,e.canvasRef.current.width,e.canvasRef.current.height),console.log("(rate:".concat(U,")"))}else{e.toucheInfos={};var S,A=Object(p.a)(c);try{for(A.s();!(S=A.n()).done;){var Z=S.value,F=Z.clientX,H=Z.clientY;F-=n.left,H-=n.top;var z=Z.identifier;e.toucheInfos[z]={x:F,y:H}}}catch(G){A.e(G)}finally{A.f()}}}))}},{key:"zoomAndMove4",value:function(){var e=this;this.toucheInfos={},this.canvasRef.current.addEventListener("touchstart",(function(t){t.preventDefault(),console.log("touchstart");var n,c=t.changedTouches,o=Object(p.a)(c);try{for(o.s();!(n=o.n()).done;){var a=n.value,i=a.clientX,r=a.clientY,s=a.identifier;e.toucheInfos[s]={x:i,y:r}}}catch(l){o.e(l)}finally{o.f()}})),this.canvasRef.current.addEventListener("touchend",(function(t){t.preventDefault(),console.log("touchend");var n=t.changedTouches;console.dir(n,{depth:null});var c,o=Object(p.a)(n);try{for(o.s();!(c=o.n()).done;){var a=c.value.identifier;e.toucheInfos[a]&&delete e.toucheInfos[a]}}catch(i){o.e(i)}finally{o.f()}})),this.canvasRef.current.addEventListener("touchcancel",(function(t){t.preventDefault(),console.log("touchcancel");var n=t.changedTouches;console.dir(n,{depth:null});var c,o=Object(p.a)(n);try{for(o.s();!(c=o.n()).done;){var a=c.value.identifier;e.toucheInfos[a]&&delete e.toucheInfos[a]}}catch(i){o.e(i)}finally{o.f()}})),this.canvasRef.current.addEventListener("touchmove",(function(t){console.log("touchmove"),t.preventDefault();var n=t.changedTouches;n.length!==Object.keys(e.toucheInfos).length&&(console.dir(Object.keys(e.toucheInfos)),console.dir(n))}))}},{key:"componentDidMount",value:function(){console.log("Camera.componentDidMount"),this.canvasRef.current.width=1080,this.canvasRef.current.height=1080,this.ctx=this.canvasRef.current.getContext("2d"),this.initZoomAndMove()}},{key:"componentWillUnmount",value:function(){console.log("Camera.componentWillUnmount")}},{key:"onChange",value:function(e){var t=this;if(console.log("onChange"),console.dir(e,{depth:null}),e.target.files.length){var n=e.target.files[0],c=new FileReader;c.addEventListener("load",(function(e){var n=c.result;t.imgRef.current.src=n,t.imgRef.current.onload=function(){console.log("canvasRef.current.width:".concat(t.canvasRef.current.width)),console.log("canvasRef.current.height:".concat(t.canvasRef.current.height)),console.log("imgRef.current.width:".concat(t.imgRef.current.width)),console.log("imgRef.current.height:".concat(t.imgRef.current.height)),console.log("imgMaskRef.current.width:".concat(t.imgMaskRef.current.width)),console.log("imgMaskRef.current.height:".concat(t.imgMaskRef.current.height));var e=t.canvasRef.current.width/t.imgRef.current.width,n=t.canvasRef.current.height/t.imgRef.current.height,c=e<n?e:n;console.log("rate:".concat(c));var o=t.imgRef.current.width*c,a=t.imgRef.current.height*c;console.log("dstWidth:".concat(o)),console.log("dstHeight:".concat(a));var i=t.canvasRef.current.width/2-o/2,r=t.canvasRef.current.height/2-a/2;console.log("dstPosX:".concat(i)),console.log("dstPosY:".concat(r)),t.ctx.drawImage(t.imgRef.current,0,0,t.imgRef.current.width,t.imgRef.current.height,i,r,o,a),t.ctx.drawImage(t.imgMaskRef.current,0,0,t.canvasRef.current.width,t.canvasRef.current.height),t.imgPosX=i,t.imgPosY=r,t.imgZoomRate=c,t.imgRef.current.onload=function(){},t.setState({imageLoaded:!0}),t.removeZoomAndMoveHandlers(),t.addZoomAndMoveHandlers()}})),c.readAsDataURL(n)}}},{key:"onClickChoosePhoto",value:function(e){this.inputFile.current.click()}},{key:"render",value:function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"Camera"}),Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{type:"file",className:"camera--hidden",ref:this.inputFile,onChange:this.onChange,accept:"image/png , image/jpeg"}),Object(d.jsx)("button",{onClick:this.onClickChoosePhoto,children:"choose photo"})]}),Object(d.jsx)("div",{children:Object(d.jsx)("img",{className:"camera--img camera--hidden",alt:"img",ref:this.imgRef})}),Object(d.jsxs)("div",{children:[Object(d.jsx)("canvas",{className:"camera--canvas",ref:this.canvasRef}),Object(d.jsx)("img",{src:k,alt:"mask",ref:this.imgMaskRef,className:"camera--hidden"})]})]})}}]),n}(c.Component),w=(n(23),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var c;return Object(r.a)(this,n),console.log("Camera2.constructor"),(c=t.call(this,e)).state={takeButtonEnable:!1,retakeButtonEnable:!1,startCameraButtonEnable:!1},c.videoRef=o.a.createRef(),c.canvasRef=o.a.createRef(),c.imgMaskRef=o.a.createRef(),c.onClickTake=c.onClickTake.bind(Object(x.a)(c)),c.onClickRetake=c.onClickRetake.bind(Object(x.a)(c)),c.onClickStartCamera=c.onClickStartCamera.bind(Object(x.a)(c)),c.ctx=null,c}return Object(s.a)(n,[{key:"startCamera",value:function(){var e=this,t=navigator.mediaDevices||(navigator.mozGetUserMedia||navigator.webkitGetUserMedia?{getUserMedia:function(e){return new Promise((function(t,n){(navigator.mozGetUserMedia||navigator.webkitGetUserMedia).call(navigator,e,t,n)}))}}:null);t?t.getUserMedia({audio:!1,video:{width:1080,height:1080,facingMode:"user"}}).then((function(t){console.log("then"),console.dir(t,{depth:null}),e.videoRef.current.onerror=function(t){alert(t),e.videoRef.current.onerror=function(){}},e.videoRef.current.srcObject=t,e.setState({takeButtonEnable:!0,retakeButtonEnable:!1,startCameraButtonEnable:!1})})).catch((function(t){console.log(t),e.setState({takeButtonEnable:!1,retakeButtonEnable:!1,startCameraButtonEnable:!0}),alert(t)})):(console.log("getUserMedia() not supported."),alert("getUserMedia() not supported."))}},{key:"componentDidMount",value:function(){console.log("Camera2.componentDidMount"),this.canvasRef.current.width=1080,this.canvasRef.current.height=1080,this.ctx=this.canvasRef.current.getContext("2d"),this.videoRef.current.addEventListener("loadedmetadata",(function(e){console.log("loadedmetadata")})),this.videoRef.current.addEventListener("loadeddata",(function(e){console.log("loadeddata")})),this.startCamera()}},{key:"componentWillUnmount",value:function(){console.log("Camera2.componentWillUnmount");try{this.videoRef.current.pause()}catch(e){}}},{key:"onClickTake",value:function(e){this.videoRef.current.pause(),console.log("this.imgMaskRef.current.width:".concat(this.imgMaskRef.current.width)),console.log("this.imgMaskRef.current.height:".concat(this.imgMaskRef.current.height)),this.ctx.drawImage(this.videoRef.current,0,0,this.canvasRef.current.width,this.canvasRef.current.height),this.ctx.drawImage(this.imgMaskRef.current,0,0,this.canvasRef.current.width,this.canvasRef.current.height),this.videoRef.current.classList.contains("camera2--hidden")||this.videoRef.current.classList.add("camera2--hidden"),this.canvasRef.current.classList.contains("camera2--hidden")&&this.canvasRef.current.classList.remove("camera2--hidden"),this.setState({takeButtonEnable:!1,retakeButtonEnable:!0})}},{key:"onClickRetake",value:function(e){this.videoRef.current.classList.contains("camera2--hidden")&&this.videoRef.current.classList.remove("camera2--hidden"),this.canvasRef.current.classList.contains("camera2--hidden")||this.canvasRef.current.classList.add("camera2--hidden"),this.videoRef.current.play(),this.setState({takeButtonEnable:!0,retakeButtonEnable:!1})}},{key:"onClickStartCamera",value:function(e){this.startCamera()}},{key:"render",value:function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"Camera2"}),Object(d.jsx)("div",{children:Object(d.jsx)("video",{className:"camera2--video",ref:this.videoRef,autoPlay:!0,playsInline:!0,muted:!0})}),Object(d.jsxs)("div",{children:[Object(d.jsx)("canvas",{className:"camera2--canvas camera2--hidden",ref:this.canvasRef}),Object(d.jsx)("img",{src:k,alt:"mask",ref:this.imgMaskRef,className:"camera2--hidden"})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("button",{onClick:this.onClickTake,disabled:!this.state.takeButtonEnable,children:"\u30b7\u30e3\u30c3\u30bf\u30fc"}),Object(d.jsx)("button",{onClick:this.onClickRetake,disabled:!this.state.retakeButtonEnable,children:"\u64ae\u308a\u76f4\u3057"}),Object(d.jsx)("button",{onClick:this.onClickStartCamera,disabled:!this.state.startCameraButtonEnable,children:"\u30ab\u30e1\u30e9\u30ea\u30b9\u30bf\u30fc\u30c8"})]})]})}}]),n}(c.Component)),C=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(r.a)(this,n),console.log("NotFound.constructor"),t.call(this,e)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){console.log("NotFound.componentDidMount")}},{key:"componentWillUnmount",value:function(){console.log("NotFound.componentWillUnmount")}},{key:"render",value:function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"NotFound"}),Object(d.jsx)("p",{children:Object(d.jsx)(f.b,{to:"/",children:"Go to the home page"})})]})}}]),n}(c.Component);function M(){var e=Object(h.g)(),t=function(t){"home"===t.target.name?e("/"):"page1"===t.target.name?e("/page1"):"about"===t.target.name?e("/about"):"contact"===t.target.name?e("/contact"):"camera"===t.target.name?e("/camera"):"camera2"===t.target.name&&e("/camera2")};return Object(d.jsxs)("div",{children:[Object(d.jsxs)("nav",{children:[Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{children:Object(d.jsx)(f.b,{to:"/",children:"Home"})}),Object(d.jsx)("li",{children:Object(d.jsx)(f.b,{to:"/page1",children:"Page1"})}),Object(d.jsx)("li",{children:Object(d.jsx)(f.b,{to:"/about",children:"About"})}),Object(d.jsx)("li",{children:Object(d.jsx)(f.b,{to:"/contact",children:"Contact"})}),Object(d.jsx)("li",{children:Object(d.jsx)(f.b,{to:"/camera",children:"Camera"})}),Object(d.jsx)("li",{children:Object(d.jsx)(f.b,{to:"/camera2",children:"Camera2"})}),Object(d.jsx)("li",{children:Object(d.jsx)(f.b,{to:"/nothing-here",children:"Nothing Here"})})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("button",{onClick:t,name:"home",children:"Home"}),Object(d.jsx)("button",{onClick:t,name:"page1",children:"Page1"}),Object(d.jsx)("button",{onClick:t,name:"about",children:"About"}),Object(d.jsx)("button",{onClick:t,name:"contact",children:"Contact"}),Object(d.jsx)("button",{onClick:t,name:"camera",children:"Camera"}),Object(d.jsx)("button",{onClick:t,name:"camera2",children:"Camera2"})]})]}),Object(d.jsx)("hr",{}),Object(d.jsx)(h.a,{})]})}var I=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(r.a)(this,n),console.log("App.constructor"),t.call(this,e)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){console.log("App.componentDidMount")}},{key:"componentWillUnmount",value:function(){console.log("App.componentWillUnmount")}},{key:"render",value:function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"Hello React Pwa v0.002"}),Object(d.jsx)("div",{}),Object(d.jsx)(h.d,{children:Object(d.jsxs)(h.b,{exact:!0,path:"/",element:Object(d.jsx)(M,{}),children:[Object(d.jsx)(h.b,{index:!0,element:Object(d.jsx)(v,{})}),Object(d.jsx)(h.b,{path:"page1",element:Object(d.jsx)(g,{})}),Object(d.jsx)(h.b,{path:"page1/:id",element:Object(d.jsx)(b,{})}),Object(d.jsx)(h.b,{path:"page1/me",element:Object(d.jsx)(m,{})}),Object(d.jsx)(h.b,{path:"about",element:Object(d.jsx)(R,{})}),Object(d.jsx)(h.b,{path:"contact",element:Object(d.jsx)(O,{})}),Object(d.jsx)(h.b,{path:"camera",element:Object(d.jsx)(y,{})}),Object(d.jsx)(h.b,{path:"camera2",element:Object(d.jsx)(w,{})}),Object(d.jsx)(h.b,{path:"*",element:Object(d.jsx)(C,{})})]})})]})}}]),n}(c.Component),N=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function P(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,25)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),o(e),a(e),i(e)}))};function D(){var e=Object(h.g)();return Object(d.jsx)(I,{navigate:e})}i.a.render(Object(d.jsx)(o.a.StrictMode,{children:Object(d.jsx)(f.a,{basename:"react-pwa",children:Object(d.jsx)(D,{})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/react-pwa",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/react-pwa","/service-worker.js");N?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var c=n.headers.get("content-type");404===n.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):P(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):P(t,e)}))}}(),E()}},[[24,1,2]]]);
//# sourceMappingURL=main.5e45225f.chunk.js.map